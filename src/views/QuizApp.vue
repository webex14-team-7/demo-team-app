<template>
  <h1>Vue ã‚¯ã‚¤ã‚º</h1>
  <div class="app">
    <h2>Q. {{ format.text }}</h2>
    <img
      class="quiz-image"
      :src="require(`@/assets/${format.quizes[quizNumber].image}.jpg`)"
      alt="ãŠåœŸç”£ã‚¯ã‚¤ã‚º"
    />
    <div class="container">
      <button v-on:click="choiced(0)" v-if="buttonSeen">
        {{ format.quizes[quizNumber].choices[0].text }}
      </button>
      <button v-on:click="choiced(1)" v-if="buttonSeen">
        {{ format.quizes[quizNumber].choices[1].text }}
      </button>
      <button v-on:click="choiced(2)" v-if="buttonSeen">
        {{ format.quizes[quizNumber].choices[2].text }}
      </button>
    </div>
    <div>{{ feedback }}</div>
    <button v-if="seen" v-on:click="changeQuiz">æ¬¡ã®å•é¡Œã¸</button>
    <div v-if="finish">ã“ã‚Œã§å•é¡Œã¯çµ‚ã‚ã‚Šã ã‚ˆ</div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      feedback: "",
      quizNumber: 0,
      seen: false,
      buttonSeen: true,
      finish: false,
      format: {
        text: "ã“ã®ãŠã¿ã‚„ã’ã¯ä½•çœŒã®åç‰©ã§ã—ã‚‡ã†",
        quizes: [
          {
            image: "æ°—ã«ãªã‚‹ãƒªãƒ³ã‚´",
            choices: [
              {
                text: "é’æ£®çœŒ",
                isCorrect: true,
                feedback:
                  "æ­£è§£ï¼é’æ£®çœŒã®ã€Œæ°—ã«ãªã‚‹ãƒªãƒ³ã‚´ã€ã¯ä¸­ã«ä¸¸ã”ã¨ç„¼ãã‚Šã‚“ã”ãŒå…¥ã£ã¦ã„ã‚‹ã‚ˆã€‚",
              },
              {
                text: "æ²–ç¸„çœŒ",
                isCorrect: false,
                feedback: "æ®‹å¿µï¼æ²–ç¸„çœŒã¯å…ƒç¥–ç´…ã„ã‚‚ã‚¿ãƒ«ãƒˆãŒæœ‰åã ã­ã€‚",
              },
              {
                text: "åŸ¼ç‰çœŒ",
                isCorrect: false,
                feedback: "æ®‹å¿µï¼åŸ¼ç‰çœŒã¯åä¸‡çŸ³ã¾ã‚“ã˜ã‚…ã†ãŒæœ‰åã ã­ã€‚",
              },
            ],
          },
          {
            image: "æ¡”æ¢—ä¿¡ç„é¤…",
            choices: [
              {
                text: "ç¦å²¡çœŒ",
                isCorrect: false,
                feedback: "æ®‹å¿µï¼çœŒã¯ç¦å²¡ã¯åšå¤šã¨ãŠã‚Šã‚‚ã‚“ãŒæœ‰åã ã­ã€‚",
              },
              {
                text: "åŒ—æµ·é“",
                isCorrect: false,
                feedback: "æ®‹å¿µï¼åŒ—æµ·é“ã¯ç™½ã„æ‹äººãŒæœ‰åã ã­ã€‚",
              },
              {
                text: "å±±æ¢¨çœŒ",
                isCorrect: true,
                feedback: "æ­£è§£ï¼å±±æ¢¨çœŒã¯æ¡”æ¢—ä¿¡ç„é¤…ãŒæœ‰åã ã‚ˆã€‚",
              },
            ],
          },
          {
            image: "èµ¤ã„é´",
            choices: [
              {
                text: "ç¥å¥ˆå·çœŒ",
                isCorrect: true,
                feedback:
                  "æ­£è§£ï¼æ¨ªæµœã‚’èˆå°ã«ã—ãŸç«¥è¬¡ã€Œèµ¤ã„é´ã€ã‚’ãƒ¢ãƒãƒ¼ãƒ•ã«ã—ãŸãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆè“å­ã ã‚ˆã€‚",
              },
              {
                text: "åºƒå³¶çœŒ",
                isCorrect: false,
                feedback: "æ®‹å¿µï¼åºƒå³¶çœŒã¯ã‚‚ã¿ã˜é¥…é ­ãŒãŠã„ã—ã„ã‚ˆã­ã€‚",
              },
              {
                text: "å¥ˆè‰¯çœŒ",
                isCorrect: false,
                feedback: "æ®‹å¿µï¼å¥ˆè‰¯çœŒã¯æŸ¿ã®è‘‰å¯¿å¸ãŒäººæ°—ã ã‚ˆ",
              },
            ],
          },
          {
            image: "ãŠã‚„ã",
            choices: [
              {
                text: "æ±äº¬",
                isCorrect: false,
                feedback: "æ®‹å¿µï¼æ±äº¬ã¯æ±äº¬ãƒãƒŠãƒŠã§ã—ã‚‡ï¼",
              },
              {
                text: "é•·é‡çœŒ",
                isCorrect: true,
                feedback: "æ­£è§£ï¼é•·é‡çœŒã®ãŠã‚„ãã€ãŠã„ã—ãã†ã ã­ï¼",
              },
              {
                text: "ç†Šæœ¬çœŒ",
                isCorrect: false,
                feedback: "æ®‹å¿µï¼ãã¾ã‚‚ã‚“ãŒæ€’ã£ã¡ã‚ƒã†ã‚ˆğŸ’¦",
              },
            ],
          },
        ],
      },
    }
  },
  methods: {
    choiced(i) {
      if (this.format.quizes[this.quizNumber].choices[i].isCorrect) {
        if (this.quizNumber <= 2) {
          this.seen = true
          this.buttonSeen = false
          this.feedback =
            this.format.quizes[this.quizNumber].choices[i].feedback
        } else {
          this.buttonSeen = false
          this.feedback =
            this.format.quizes[this.quizNumber].choices[i].feedback
          this.finish = true
        }
      } else {
        this.feedback = this.format.quizes[this.quizNumber].choices[i].feedback
      }
    },
    changeQuiz() {
      this.quizNumber += 1
      this.feedback = ""
      this.seen = false
      this.buttonSeen = true
    },
  },
}
</script>

<style>
.app {
  display: flex;
  width: 100%;
  flex-direction: column;
  align-items: center;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
}

.quiz-image {
  height: 300px;
  width: 300px;
  object-fit: contain;
}

.container {
  display: flex;
  height: 2em;
  width: 300px;
  padding: 1em;
  justify-content: space-around;
}
</style>
